# 題材の計画

単一責務の原則、オープン・クローズの原則、凝集度、結合度について効率よく理解するための題材を考える。

## 言語

- Java
- Lombok
- Spring Boot
- Spring Data JDBC

## アプリケーション

- リクエストに応じてDBを読み込み、レスポンスのJSONを返すRESTサービス。
- 更新系の機能もある。
- ゲームのユーザーを表す`user`テーブルのCRUD。
- 実はプレイヤー側と管理者側が利用する２系統の機能があるが、最初に提示した時点では分かれているように見せない（悪い例として）

## ワークショップのストーリー

### 1. 初期状態

責務によってレイヤーに分けてある。

- HTTPリクエストとレスポンス＝Controller
- 業務ロジック＝Service
- DB操作＝Repository

### 2. 仕様変更による設計変更

#### この章のコンセプト

２種類のユーザーが同じように見える仕様変更要求をしてくるが、実は異なる背景からくる要求のため、単一責務の減速を理解している人であれば、あえて共通化しない判断をするが、悪い設計の例として共通化してしまう。

#### 具体的な仕様変更

管理者、プレイヤー「アカウントIDだけでは不便なので名前のデータを追加してほしい」

実は管理者が思っている「名前」は契約者としての本名。プレイヤーが思っている「名前」はゲーム内での表示名。

ここでDB設計、クラス設計に変更を加えてもらう。（３分）

#### 悪い例

`user`テーブルに`name`を追加。

### 3. 単一責務の原則を学んだ後

正しいAPI設計、クラス設計を行う。
